<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Asynchronous JavaScript</title>
</head>
<body>
    <h1>Asynchronous JavaScript</h1>
    <script>
        /*** Создаем симуляцию получения "рецептов" от сервиса ***/
        function getRecepy() {
            // получаем id рецептов
            setTimeout(() => {
                var recId = [553, 221, 321, 432];
                // получаем конкретного автора рецепта
                setTimeout((id) => {
                    var rec1 = {
                        publisher: 'John',
                        title: 'How to cook a cake'
                    }
                    console.log(`${id}: ${rec1.title}`);
                    // получаем другую статью по данному пользователю
                    setTimeout( publisher => {
                        var rec2 = {
                            title: 'How to cook a pizza',
                            publisher: 'John'
                        }
                        console.log(rec2.title);
                    }, 1000, rec1.publisher);
                }, 1000, recId[2]); // передаем id в качестве аргумента
            }, 1500);
        };
        
        getRecepy();
    </script>
</body>
</html>